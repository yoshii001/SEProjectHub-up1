<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Design Test Suite</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
        }

        .test-title {
            color: #1f2937;
            margin-bottom: 15px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .device-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .device {
            border: 2px solid #d1d5db;
            border-radius: 10px;
            overflow: hidden;
            background: white;
        }

        .device-header {
            background: #374151;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: 500;
            font-size: 0.875rem;
        }

        .device-screen {
            height: 300px;
            overflow: auto;
            position: relative;
        }

        .device-screen iframe {
            width: 100%;
            height: 100%;
            border: none;
            transform-origin: top left;
        }

        /* Device-specific scaling */
        .mobile iframe {
            transform: scale(0.3);
            width: 333%;
            height: 333%;
        }

        .tablet iframe {
            transform: scale(0.6);
            width: 167%;
            height: 167%;
        }

        .desktop iframe {
            transform: scale(0.8);
            width: 125%;
            height: 125%;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .test-item {
            padding: 15px;
            background: #f9fafb;
            border-radius: 6px;
            border-left: 4px solid #3b82f6;
        }

        .test-item.pass {
            border-left-color: #10b981;
            background: #ecfdf5;
        }

        .test-item.fail {
            border-left-color: #ef4444;
            background: #fef2f2;
        }

        .test-label {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .test-result {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .breakpoint-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #1f2937;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            z-index: 1000;
        }

        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            text-align: center;
            padding: 15px;
            background: #f3f4f6;
            border-radius: 8px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
        }

        .metric-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .device-preview {
                grid-template-columns: 1fr;
            }
            
            .test-container {
                padding: 15px;
                margin: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="breakpoint-indicator" id="breakpoint-indicator">
        Loading...
    </div>

    <div class="test-container">
        <h1>Responsive Design Test Suite</h1>
        <p>This page tests the responsive design implementation across different devices and screen sizes.</p>

        <!-- Device Preview Section -->
        <div class="test-section">
            <h2 class="test-title">📱 Device Preview</h2>
            <p>View how the responsive design adapts across different device sizes:</p>
            
            <div class="device-preview">
                <div class="device mobile">
                    <div class="device-header">Mobile (375px)</div>
                    <div class="device-screen">
                        <iframe src="responsive-demo.html"></iframe>
                    </div>
                </div>
                
                <div class="device tablet">
                    <div class="device-header">Tablet (768px)</div>
                    <div class="device-screen">
                        <iframe src="responsive-demo.html"></iframe>
                    </div>
                </div>
                
                <div class="device desktop">
                    <div class="device-header">Desktop (1200px)</div>
                    <div class="device-screen">
                        <iframe src="responsive-demo.html"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Responsive Tests -->
        <div class="test-section">
            <h2 class="test-title">🧪 Responsive Tests</h2>
            <div class="test-grid" id="responsive-tests">
                <!-- Tests will be populated by JavaScript -->
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="test-section">
            <h2 class="test-title">⚡ Performance Metrics</h2>
            <div class="performance-metrics" id="performance-metrics">
                <!-- Metrics will be populated by JavaScript -->
            </div>
        </div>

        <!-- Accessibility Tests -->
        <div class="test-section">
            <h2 class="test-title">♿ Accessibility Tests</h2>
            <div class="test-grid" id="accessibility-tests">
                <!-- Tests will be populated by JavaScript -->
            </div>
        </div>

        <!-- Touch Target Tests -->
        <div class="test-section">
            <h2 class="test-title">👆 Touch Target Tests</h2>
            <div class="test-grid" id="touch-tests">
                <!-- Tests will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Breakpoint indicator
        function updateBreakpointIndicator() {
            const indicator = document.getElementById('breakpoint-indicator');
            const width = window.innerWidth;
            
            let breakpoint = '';
            if (width < 576) breakpoint = 'XS (<576px)';
            else if (width < 768) breakpoint = 'SM (576px+)';
            else if (width < 992) breakpoint = 'MD (768px+)';
            else if (width < 1200) breakpoint = 'LG (992px+)';
            else breakpoint = 'XL (1200px+)';
            
            indicator.textContent = `${breakpoint} | ${width}px`;
        }

        // Responsive tests
        function runResponsiveTests() {
            const tests = [
                {
                    name: 'Viewport Meta Tag',
                    test: () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        return viewport && viewport.content.includes('width=device-width');
                    }
                },
                {
                    name: 'Flexible Grid System',
                    test: () => {
                        // Check if CSS Grid or Flexbox is used
                        const styles = getComputedStyle(document.body);
                        return true; // Simplified test
                    }
                },
                {
                    name: 'Responsive Images',
                    test: () => {
                        const images = document.querySelectorAll('img');
                        return Array.from(images).every(img => {
                            const styles = getComputedStyle(img);
                            return styles.maxWidth === '100%' || styles.width === '100%';
                        });
                    }
                },
                {
                    name: 'Touch-Friendly Navigation',
                    test: () => {
                        // Check for hamburger menu on mobile
                        return window.innerWidth < 768 ? true : true; // Simplified
                    }
                },
                {
                    name: 'Readable Text Size',
                    test: () => {
                        const body = getComputedStyle(document.body);
                        const fontSize = parseInt(body.fontSize);
                        return fontSize >= 16;
                    }
                },
                {
                    name: 'Media Queries',
                    test: () => {
                        // Check if media queries are present
                        return Array.from(document.styleSheets).some(sheet => {
                            try {
                                return Array.from(sheet.cssRules).some(rule => 
                                    rule.type === CSSRule.MEDIA_RULE
                                );
                            } catch (e) {
                                return false;
                            }
                        });
                    }
                }
            ];

            const container = document.getElementById('responsive-tests');
            container.innerHTML = '';

            tests.forEach(test => {
                const result = test.test();
                const item = document.createElement('div');
                item.className = `test-item ${result ? 'pass' : 'fail'}`;
                item.innerHTML = `
                    <div class="test-label">${test.name}</div>
                    <div class="test-result">${result ? '✅ Pass' : '❌ Fail'}</div>
                `;
                container.appendChild(item);
            });
        }

        // Performance metrics
        function updatePerformanceMetrics() {
            const metrics = [
                {
                    label: 'Load Time',
                    value: `${(performance.timing.loadEventEnd - performance.timing.navigationStart)}ms`,
                    unit: ''
                },
                {
                    label: 'DOM Ready',
                    value: `${(performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart)}ms`,
                    unit: ''
                },
                {
                    label: 'Viewport Width',
                    value: window.innerWidth,
                    unit: 'px'
                },
                {
                    label: 'Viewport Height',
                    value: window.innerHeight,
                    unit: 'px'
                },
                {
                    label: 'Device Pixel Ratio',
                    value: window.devicePixelRatio,
                    unit: 'x'
                },
                {
                    label: 'Connection',
                    value: navigator.connection ? navigator.connection.effectiveType : 'Unknown',
                    unit: ''
                }
            ];

            const container = document.getElementById('performance-metrics');
            container.innerHTML = '';

            metrics.forEach(metric => {
                const item = document.createElement('div');
                item.className = 'metric';
                item.innerHTML = `
                    <div class="metric-value">${metric.value}${metric.unit}</div>
                    <div class="metric-label">${metric.label}</div>
                `;
                container.appendChild(item);
            });
        }

        // Accessibility tests
        function runAccessibilityTests() {
            const tests = [
                {
                    name: 'Alt Text for Images',
                    test: () => {
                        const images = document.querySelectorAll('img');
                        return Array.from(images).every(img => img.alt !== undefined);
                    }
                },
                {
                    name: 'Semantic HTML',
                    test: () => {
                        const semanticTags = ['header', 'nav', 'main', 'section', 'article', 'footer'];
                        return semanticTags.some(tag => document.querySelector(tag));
                    }
                },
                {
                    name: 'Focus Indicators',
                    test: () => {
                        // Check if focus styles are defined
                        return true; // Simplified test
                    }
                },
                {
                    name: 'ARIA Labels',
                    test: () => {
                        const ariaElements = document.querySelectorAll('[aria-label], [aria-labelledby]');
                        return ariaElements.length > 0;
                    }
                },
                {
                    name: 'Color Contrast',
                    test: () => {
                        // Simplified contrast test
                        return true;
                    }
                },
                {
                    name: 'Skip Links',
                    test: () => {
                        return document.querySelector('.skip-link') !== null;
                    }
                }
            ];

            const container = document.getElementById('accessibility-tests');
            container.innerHTML = '';

            tests.forEach(test => {
                const result = test.test();
                const item = document.createElement('div');
                item.className = `test-item ${result ? 'pass' : 'fail'}`;
                item.innerHTML = `
                    <div class="test-label">${test.name}</div>
                    <div class="test-result">${result ? '✅ Pass' : '❌ Fail'}</div>
                `;
                container.appendChild(item);
            });
        }

        // Touch target tests
        function runTouchTargetTests() {
            const tests = [
                {
                    name: 'Button Size (48px min)',
                    test: () => {
                        const buttons = document.querySelectorAll('button, .btn');
                        return Array.from(buttons).every(btn => {
                            const rect = btn.getBoundingClientRect();
                            return rect.height >= 44 && rect.width >= 44;
                        });
                    }
                },
                {
                    name: 'Link Spacing',
                    test: () => {
                        const links = document.querySelectorAll('a');
                        return links.length > 0; // Simplified test
                    }
                },
                {
                    name: 'Form Input Size',
                    test: () => {
                        const inputs = document.querySelectorAll('input, textarea');
                        return Array.from(inputs).every(input => {
                            const rect = input.getBoundingClientRect();
                            return rect.height >= 44;
                        });
                    }
                },
                {
                    name: 'Touch Gestures',
                    test: () => {
                        return 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                    }
                }
            ];

            const container = document.getElementById('touch-tests');
            container.innerHTML = '';

            tests.forEach(test => {
                const result = test.test();
                const item = document.createElement('div');
                item.className = `test-item ${result ? 'pass' : 'fail'}`;
                item.innerHTML = `
                    <div class="test-label">${test.name}</div>
                    <div class="test-result">${result ? '✅ Pass' : '❌ Fail'}</div>
                `;
                container.appendChild(item);
            });
        }

        // Initialize tests
        function initializeTests() {
            updateBreakpointIndicator();
            updatePerformanceMetrics();
            runResponsiveTests();
            runAccessibilityTests();
            runTouchTargetTests();
        }

        // Event listeners
        window.addEventListener('resize', () => {
            updateBreakpointIndicator();
            updatePerformanceMetrics();
        });

        window.addEventListener('load', initializeTests);

        // Auto-refresh tests every 5 seconds
        setInterval(() => {
            updatePerformanceMetrics();
        }, 5000);
    </script>
</body>
</html>